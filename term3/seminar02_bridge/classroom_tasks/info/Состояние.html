<!DOCTYPE html>
<!-- saved from url=(0049)https://refactoring.guru/ru/design-patterns/state -->
<html lang="ru" class=""><head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# website: http://ogp.me/ns/website#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>Состояние</title>

    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="alternate" href="https://refactoring.guru/design-patterns/observer" hreflang="x-default">
    <link rel="alternate" href="https://refactoring.guru/es/design-patterns/observer" hreflang="es">
    <link rel="alternate" href="https://refactoring.guru/fr/design-patterns/observer" hreflang="fr">
    <link rel="alternate" href="https://refactoring.guru/pl/design-patterns/observer" hreflang="pl">
    <link rel="alternate" href="https://refactoring.guru/pt-br/design-patterns/observer" hreflang="pt-br">
    <link rel="alternate" href="https://refactoring.guru/ru/design-patterns/observer" hreflang="ru">
    <link rel="alternate" href="https://refactoring.guru/uk/design-patterns/observer" hreflang="uk">
    <link rel="alternate" href="https://refactoringguru.cn/design-patterns/observer" hreflang="zh">

    <meta name="description" content="Наблюдатель — это поведенческий паттерн проектирования, который создаёт механизм подписки, позволяющий одним объектам следить и реагировать на события, происходящие в других объектах.">

    <link rel="canonical" href="https://refactoring.guru/ru/design-patterns/state">

    <link rel="icon" type="image/x-icon" href="https://refactoring.guru/favicon.png">

<script type="text/javascript" async="" src="./Состояние_files/js"></script><script type="text/javascript" async="" src="./Состояние_files/ec.js.Без названия"></script><script async="" src="./Состояние_files/analytics.js.Без названия"></script><script type="application/ld+json">
{"@context": "http://schema.org", "@graph": [{"@type":"Person","@id":"https://refactoring.guru/ru#founder","name":"Александр Швец"},{"@type":"Organization","@id":"https://refactoring.guru/ru#organization","name":"Refactoring.Guru / Рефакторинг.Гуру","description":"Рефакторинг.Гуру посвящён тёмным материям программирования: рефакторингу, паттернам проектирования, принципам SOLID и другим важным темам из мира программирования.","image":{"@type":"ImageObject","@id":"https://refactoring.guru/ru#organizationlogo","url":"https://refactoring.guru/images/content-public/logos/logo-plain.png","caption":"Refactoring.Guru"},"logo":{"@id":"https://refactoring.guru/ru#organizationlogo"},"founder":{"@id":"https://refactoring.guru/ru#founder"},"sameAs":["https://www.facebook.com/refactoring.guru","https://twitter.com/RefactoringGuru","https://github.com/RefactoringGuru"]},{"@type":"WebSite","@id":"https://refactoring.guru/ru#website","url":"https://refactoring.guru/ru","name":"Refactoring.Guru / Рефакторинг.Гуру","description":"Рефакторинг.Гуру посвящён тёмным материям программирования: рефакторингу, паттернам проектирования, принципам SOLID и другим важным темам из мира программирования.","author":{"@id":"https://refactoring.guru/ru#founder"},"publisher":{"@id":"https://refactoring.guru/ru#organization"},"copyrightYear":2014},{"@type":"WebPage","@id":"https://refactoring.guru/ru/design-patterns/observer#webpage","url":"https://refactoring.guru/ru/design-patterns/observer","inLanguage":"ru","name":"Наблюдатель","description":"Наблюдатель — это поведенческий паттерн проектирования, который создаёт механизм подписки, позволяющий одним объектам следить и реагировать на события, происходящие в других объектах.","isPartOf":{"@id":"https://refactoring.guru/ru#website"},"breadcrumb":{"@id":"https://refactoring.guru/ru/design-patterns/observer#breadcrumb"},"primaryImageOfPage":{"@id":"https://refactoring.guru/ru/design-patterns/observer#primaryimage"},"image":{"@type":"ImageObject","@id":"https://refactoring.guru/ru/design-patterns/observer#primaryimage","url":"https://refactoring.guru/images/patterns/content/observer/observer-3x.png","width":1920,"height":1200}},{"@type":"Article","@id":"https://refactoring.guru/ru/design-patterns/observer#article","isPartOf":{"@id":"https://refactoring.guru/ru/design-patterns/observer#webpage"},"mainEntityOfPage":{"@id":"https://refactoring.guru/ru/design-patterns/observer#webpage"},"author":{"@id":"https://refactoring.guru/ru#founder"},"publisher":{"@id":"https://refactoring.guru/ru#organization"},"headline":"Наблюдатель","datePublished":"2021-01-01","dateModified":"2022-01-01","articleSection":"Паттерны","image":{"@id":"https://refactoring.guru/ru/design-patterns/observer#primaryimage"}},{"@type":"BreadcrumbList","@id":"https://refactoring.guru/ru/design-patterns/observer#breadcrumb","itemListElement":[{"@type":"ListItem","position":1,"name":"Главная","item":"https://refactoring.guru/ru"},{"@type":"ListItem","position":2,"name":"Паттерны проектирования","item":"https://refactoring.guru/ru/design-patterns"},{"@type":"ListItem","position":3,"name":"Поведенческие паттерны","item":"https://refactoring.guru/ru/design-patterns/behavioral-patterns"}]}] }
</script>

<meta property="fb:app_id" content="666819623386327">
<meta property="og:type" content="website">
<meta property="og:image" content="https://refactoring.guru/ru/images/refactoring/social/facebook-share-preview.png?id=dbf9e98269595be86eb668f365be6868">

        <link rel="stylesheet" href="./Состояние_files/public-packed.min.css">

<style type="text/css">
    body,html{font-family:"PT Sans",sans-serif}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(/fonts/PTSans/ptsans-regular_cyrillic-ext.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(/fonts/PTSans/ptsans-regular_cyrillic.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(/fonts/PTSans/ptsans-regular_latin-ext.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(/fonts/PTSans/ptsans-regular_latin.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:400;font-display:swap;src:local("PT Sans"),local("PTSans-Regular"),url(/fonts/PTSans/ptsans-regular_en.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(/fonts/PTSans/ptsans-bold_cyrillic-ext.woff2?1) format("woff2");unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(/fonts/PTSans/ptsans-bold_cyrillic.woff2?1) format("woff2");unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(/fonts/PTSans/ptsans-bold_latin-ext.woff2?1) format("woff2");unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(/fonts/PTSans/ptsans-bold_latin.woff2?1) format("woff2");unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'PT Sans';font-style:normal;font-weight:700;font-display:swap;src:local("PT Sans Bold"),local("PTSans-Bold"),url(/fonts/PTSans/ptsans-bold_en.woff2?1) format("woff2");unicode-range:U+0-FF,U+131,U+142,U+152,U+153,U+2BB,U+2BC,U+2C6,U+2DA,U+2DC,U+420,U+423,U+430,U+438-43A,U+43D,U+440,U+441,U+443,U+44C,U+457,U+2000-206F,U+2074,U+20AA-20AC,U+20B4,U+20B9,U+20BA,U+20BD,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}
</style>
<link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-regular_en.woff2?1" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-bold_en.woff2?1" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-regular_cyrillic.woff2?1" as="font" type="font/woff2" crossorigin="">
    <link rel="preload" href="https://refactoring.guru/fonts/PTSans/ptsans-bold_cyrillic.woff2?1" as="font" type="font/woff2" crossorigin="">
<link rel="preload" href="https://refactoring.guru/fonts/fontello/fontawesome.woff2?15843843" as="font" type="font/woff2" crossorigin="">


<script defer="" src="./Состояние_files/public.min.js.Без названия"></script>



</head>
<body class="locale-ru announcement country-DEU state" data-body_class="observer" style="margin-bottom: 263.928px;">

<div class="body-holder">


            <div class="announcement-block prom ga-triggered" style="background:black;" data-id="DIDP-announcement" data-creative-id="ru" data-position="top"><div class="announcement-block-inner">
                САЙТ ЗАБЛОКИРОВАН РОСКОМНАДЗОРОМ <span style="color: red; font-weight: bold;">ИЗ-ЗА КАРТИНКИ ЕНОТА</span>. <a href="https://feedback.refactoring.guru/ru/communities/1/topics/4116-sajt-zablokirovan-v-rossii">С VPN всё работает »</a>
            </div></div>
    
    <div class="cart-placeholder">
    <div class="cart-block-container" style="display:none">
        <div class="cart-block btn-group">
            <a href="https://refactoring.guru/ru/design-patterns/state#checkout" class="btn cart open-checkout checkout-listening">
                <span class="cart-text"></span>&nbsp;<strong class="cart-total font-money"></strong>
            </a><a href="https://refactoring.guru/ru/design-patterns/state#checkout" class="btn btn-secondary checkout open-checkout checkout-listening"><i class="fa fa-shopping-cart" aria-hidden="true"></i> <span class="btn-text-span d-none d-sm-inline-block d-lg-none d-hg-inline-block"></span></a>
        </div>
    </div>
</div>
    <main role="main" class="main-content top-content center-content" data-page_class="">
        
    <div class="main-content-container center-content-container"><div class="pattern page text">
<article>
    
<div class="breadcrumb  with-aka ">
    
        
        <a class="home" href="https://refactoring.guru/ru"><i class="fa fa-home" aria-hidden="true"></i></a>
        
    
        
        / <a class="type" href="https://refactoring.guru/ru/design-patterns">Паттерны проектирования</a>
        
    
        
        / <a class="type" href="https://refactoring.guru/ru/design-patterns/behavioral-patterns">Поведенческие паттерны</a>
        
    
</div>
    
    <h1 class="title">Состояние</h1>
    <script type="text/javascript">
        // Shorten examples titles for users.
        var h1 = document.getElementsByTagName("H1")[0];
        if (h1.offsetHeight > 160) {
            h1.className += ' smaller';
        }

        // Small beautification for pattern examples.
        var title = h1.innerHTML;
        title = title.replace(/^(Java|C\+\+|C#|PHP|Python|Ruby|Swift|TypeScript|Go|Delphi): (.*)$/, '<strong>$1:</strong> $2');
        h1.innerHTML = title;
    </script>

    
    <div class="aka">
        Также известен как: 
        <span style="display:inline-block">State</span>
    </div>
    


    

    <div class="section intent">
<h2 id="intent"><i class="fa fa-flip-horizontal fa-comment-alt-dots" aria-hidden="true"></i> Суть паттерна</h2>
<p><strong>Состояние</strong>&nbsp;— это поведенческий паттерн проектирования, который позволяет объектам менять поведение в зависимости от своего состояния. Извне создаётся впечатление, что изменился класс&nbsp;объекта.</p>
<figure class="image"><img src="./Состояние_files/state-ru.png" alt="Паттерн&amp;nbsp;Состояние" width="640" srcset="/images/patterns/content/state/state-ru-2x.png 2x"></figure>
</div>
<div class="section problem">
<h2 id="problem"><i class="fa fa-frown" aria-hidden="true"></i> Проблема</h2>
<p>Паттерн Состояние невозможно рассматривать в отрыве от концепции <a href="https://ru.wikipedia.org/wiki/%D0%9A%D0%BE%D0%BD%D0%B5%D1%87%D0%BD%D1%8B%D0%B9_%D0%B0%D0%B2%D1%82%D0%BE%D0%BC%D0%B0%D1%82">машины состояний</a>, также известной как <em>стейт-машина</em> или <em>конечный автомат</em>.</p>
<figure class="image"><img src="./Состояние_files/problem1.png" alt="Конечный автомат" width="320" srcset="/images/patterns/diagrams/state/problem1-2x.png 2x" loading="lazy"><figcaption>
<p>Конечный&nbsp;автомат.</p>
</figcaption></figure>
<p>Основная идея в том, что программа может находиться в одном из нескольких состояний, которые всё время сменяют друг друга. Набор этих состояний, а также переходов между ними, предопределён и <em>конечен</em>. Находясь в разных состояниях, программа может по-разному реагировать на одни и те же события, которые происходят с ней.</p>
<p>Такой подход можно применить и к отдельным объектам. Например, объект <code>Документ</code> может принимать три состояния: <code>Черновик</code>, <code>Модерация</code> или <code>Опубликован</code>. В каждом из этих состоянии метод <code>опубликовать</code> будет работать по-разному:</p>
<ul>
<li>Из черновика он отправит документ на модерацию.</li>
<li>Из модерации&nbsp;— в публикацию, но при условии, что это сделал администратор.</li>
<li>В опубликованном состоянии метод не будет делать ничего.</li>
</ul>
<figure class="image"><img src="./Состояние_files/problem2-ru.png" alt="Возможные состояния документа и переходы между ними" width="560" srcset="/images/patterns/diagrams/state/problem2-ru-2x.png 2x" loading="lazy"><figcaption>
<p>Возможные состояния документа и переходы между&nbsp;ними.</p>
</figcaption></figure>
<p>Машину состояний чаще всего реализуют с помощью множества условных операторов, <code>if</code> либо <code>switch</code>, которые проверяют текущее состояние объекта и выполняют соответствующее поведение. Наверняка вы уже реализовали хотя бы одну машину состояний в своей жизни, даже не зная об этом. Как насчёт вот такого кода, выглядит знакомо?</p>
<figure class="code">
<pre class="code cm-s-default CodeMirror" lang="pseudocode"><span class="cm-keyword">class</span> <span class="cm-def1">Document</span> <span class="cm-keyword">is</span>
    <span class="cm-keyword">field</span> <span class="cm-def3">state</span><span class="cm-bracket">:</span> <span class="cm-variable">string</span>
    <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">publish</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">switch</span> <span class="cm-bracket">(</span><span class="cm-variable">state</span><span class="cm-bracket">)</span>
            <span class="cm-string">"</span><span class="cm-string">d</span><span class="cm-string">r</span><span class="cm-string">a</span><span class="cm-string">f</span><span class="cm-string">t</span><span class="cm-string">"</span><span class="cm-bracket">:</span>
                <span class="cm-variable">state</span> <span class="cm-operator">=</span> <span class="cm-string">"</span><span class="cm-string">m</span><span class="cm-string">o</span><span class="cm-string">d</span><span class="cm-string">e</span><span class="cm-string">r</span><span class="cm-string">a</span><span class="cm-string">t</span><span class="cm-string">i</span><span class="cm-string">o</span><span class="cm-string">n</span><span class="cm-string">"</span>
                <span class="cm-variable">break</span>
            <span class="cm-string">"</span><span class="cm-string">m</span><span class="cm-string">o</span><span class="cm-string">d</span><span class="cm-string">e</span><span class="cm-string">r</span><span class="cm-string">a</span><span class="cm-string">t</span><span class="cm-string">i</span><span class="cm-string">o</span><span class="cm-string">n</span><span class="cm-string">"</span><span class="cm-bracket">:</span>
                <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">currentUser</span>.<span class="cm-variable">role</span> <span class="cm-operator">=</span><span class="cm-operator">=</span> <span class="cm-string">'</span><span class="cm-string">a</span><span class="cm-string">d</span><span class="cm-string">m</span><span class="cm-string">i</span><span class="cm-string">n</span><span class="cm-string">'</span><span class="cm-bracket">)</span>
                    <span class="cm-variable">state</span> <span class="cm-operator">=</span> <span class="cm-string">"</span><span class="cm-string">p</span><span class="cm-string">u</span><span class="cm-string">b</span><span class="cm-string">l</span><span class="cm-string">i</span><span class="cm-string">s</span><span class="cm-string">h</span><span class="cm-string">e</span><span class="cm-string">d</span><span class="cm-string">"</span>
                <span class="cm-variable">break</span>
            <span class="cm-string">"</span><span class="cm-string">p</span><span class="cm-string">u</span><span class="cm-string">b</span><span class="cm-string">l</span><span class="cm-string">i</span><span class="cm-string">s</span><span class="cm-string">h</span><span class="cm-string">e</span><span class="cm-string">d</span><span class="cm-string">"</span><span class="cm-bracket">:</span>
                <span class="cm-doc">// Do nothing.</span>
                <span class="cm-variable">break</span>
    <span class="cm-comment">// ...</span>
</pre>
</figure>
<p>Основная проблема такой машины состояний проявится в том случае, если в <code>Документ</code> добавить ещё десяток состояний. Каждый метод будет состоять из увесистого условного оператора, перебирающего доступные состояния. Такой код крайне сложно поддерживать. Малейшее изменение логики переходов заставит вас перепроверять работу всех методов, которые содержат условные операторы машины состояний.</p>
<p>Путаница и нагромождение условий особенно сильно проявляется в старых проектах. Набор возможных состояний бывает трудно предопределить заранее, поэтому они всё время добавляются в процессе эволюции программы. Из-за этого решение, которое выглядело простым и эффективным в самом начале разработки, может впоследствии стать проекцией большого макаронного монстра.</p>
</div>
<div class="section solution">
<h2 id="solution"><i class="fa fa-smile-beam" aria-hidden="true"></i> Решение</h2>
<p>Паттерн Состояние предлагает создать отдельные классы для каждого состояния, в котором может пребывать объект, а затем вынести туда поведения, соответствующие этим состояниям.</p>
<p>Вместо того, чтобы хранить код всех состояний, первоначальный объект, называемый <em>контекстом</em>, будет содержать ссылку на один из объектов-состояний и делегировать ему работу, зависящую от состояния.</p>
<figure class="image"><img src="./Состояние_files/solution-ru.png" alt="Документ делегирует работу своему активному объекту-состоянию" width="490" srcset="/images/patterns/diagrams/state/solution-ru-2x.png 2x" loading="lazy"><figcaption>
<p>Документ делегирует работу своему активному&nbsp;объекту-состоянию.</p>
</figcaption></figure>
<p>Благодаря тому, что объекты состояний будут иметь общий интерфейс, контекст сможет делегировать работу состоянию, не привязываясь к его классу. Поведение контекста можно будет изменить в любой момент, подключив к нему другой объект-состояние.</p>
<p>Очень важным нюансом, отличающим этот паттерн от <a href="https://refactoring.guru/ru/design-patterns/strategy">Стратегии</a>, является то, что и контекст, и сами конкретные состояния могут знать друг о друге и инициировать переходы от одного состояния к другому.</p>
</div>
<div class="section analogy">
<h2 id="analogy"><i class="fa fa-car-side" aria-hidden="true"></i> Аналогия из жизни</h2>
<p>Ваш смартфон ведёт себя по-разному, в зависимости от текущего состояния:</p>
<ul>
<li>Когда телефон разблокирован, нажатие кнопок телефона приводит к каким-то действиям.</li>
<li>Когда телефон заблокирован, нажатие кнопок приводит к экрану разблокировки.</li>
<li>Когда телефон разряжен, нажатие кнопок приводит к экрану зарядки.</li>
</ul>
</div>
<div class="section structure-container">
<h2 id="structure"><i class="fa fa-sitemap" aria-hidden="true"></i> Структура</h2>
<div class="structure">
<div class="struct-image1 struct-image">
<figure class="image"><img class="structure-img-non-indexed d-none d-xl-block" src="./Состояние_files/structure-ru.png" alt="Структура классов паттерна Состояние" width="540" srcset="/images/patterns/diagrams/state/structure-ru-2x.png 2x" loading="lazy"><img class="structure-img-indexed d-xl-none" src="./Состояние_files/structure-ru-indexed.png" alt="Структура классов паттерна Состояние" width="540" srcset="/images/patterns/diagrams/state/structure-ru-indexed-2x.png 2x" loading="lazy"></figure>
</div>
<ol><li class="struct-li1">
<p><strong>Контекст</strong> хранит ссылку на объект состояния и делегирует ему часть работы, зависящей от состояний. Контекст работает с этим объектом через общий интерфейс состояний. Контекст должен иметь метод для присваивания ему нового объекта-состояния.</p>
</li>
<li class="struct-li2">
<p><strong>Состояние</strong> описывает общий интерфейс для всех конкретных состояний.</p>
</li>
<li class="struct-li3">
<p><strong>Конкретные состояния</strong> реализуют поведения, связанные с определённым состоянием контекста. Иногда приходится создавать целые иерархии классов состояний, чтобы обобщить дублирующий код.</p>
<p>Состояние может иметь обратную ссылку на объект контекста. Через неё не только удобно получать из контекста нужную информацию, но и осуществлять смену его состояния.</p>
</li>
<li class="struct-li4">
<p>И контекст, и объекты конкретных состояний могут решать, когда и какое следующее состояние будет выбрано. Чтобы переключить состояние, нужно подать другой объект-состояние в контекст.</p>
</li></ol>
<style structure="" type="text/css">
@media (min-width: 1200px) {
.structure {
margin: 0;
width: auto;
height: 560px;
}

.struct-image1 {
left: 60px;
top: 160px;
}

.struct-li1 {
left: 0px;
top: 0px;
width: 310px;
height: 150px;
}

.struct-li2 {
left: 340px;
top: 60px;
width: 240px;
height: 90px;
}

.struct-li3 {
left: 610px;
top: 0px;
width: 230px;
height: 350px;
}

.struct-li4 {
left: 610px;
top: 370px;
width: 210px;
height: 190px;
}
}

</style>
</div></div>
<div class="section pseudocode">
<h2 id="pseudocode"><i class="fa fa-hashtag" aria-hidden="true"></i> Псевдокод</h2>
<p>В этом примере паттерн <strong>Состояние</strong> изменяет функциональность одних и тех же элементов управления музыкальным проигрывателем, в зависимости от того, в каком состоянии находится сейчас проигрыватель.</p>
<figure class="image"><img src="./Состояние_files/example.png" alt="Структура классов примера паттерна Состояние" width="590" srcset="/images/patterns/diagrams/state/example-2x.png 2x" loading="lazy"><figcaption>
<p>Пример изменение поведения проигрывателя с помощью&nbsp;состояний.</p>
</figcaption></figure>
<p>Объект проигрывателя содержит объект-состояние, которому и делегирует основную работу. Изменяя состояния, можно менять то, как ведут себя элементы управления проигрывателя.</p>
<figure class="code">
<pre class="code cm-s-default CodeMirror" lang="pseudocode"><span class="cm-doc">// Общий интерфейс всех состояний.</span>
<span class="cm-keyword">abstract class</span> <span class="cm-def1">State</span> <span class="cm-keyword">is</span>
    <span class="cm-keyword">protected</span> <span class="cm-keyword">field</span> <span class="cm-def3">player</span><span class="cm-bracket">:</span> <span class="cm-variable">AudioPlayer</span>

    <span class="cm-doc">// Контекст передаёт себя в конструктор состояния, чтобы</span>
    <span class="cm-doc">// состояние могло обращаться к его данным и методам в</span>
    <span class="cm-doc">// будущем, если потребуется.</span>
    <span class="cm-keyword">constructor</span> <span class="cm-def3">State</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-atom">this</span>.<span class="cm-variable">player</span> <span class="cm-operator">=</span> <span class="cm-variable">player</span>

    <span class="cm-keyword">abstract</span> <span class="cm-keyword">method</span> <span class="cm-def3">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">abstract</span> <span class="cm-keyword">method</span> <span class="cm-def3">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">abstract</span> <span class="cm-keyword">method</span> <span class="cm-def3">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">abstract</span> <span class="cm-keyword">method</span> <span class="cm-def3">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>


<span class="cm-doc">// Конкретные состояния реализуют методы абстрактного состояния</span>
<span class="cm-doc">// по-своему.</span>
<span class="cm-keyword">class</span> <span class="cm-def1">LockedState</span> <span class="cm-keyword">extends</span> <span class="cm-def2">State</span> <span class="cm-keyword">is</span>

    <span class="cm-doc">// При разблокировке проигрователя с заблокированными</span>
    <span class="cm-doc">// клавишами он может принять одно из двух состояний.</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">player</span>.<span class="cm-variable">playing</span><span class="cm-bracket">)</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">PlayingState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>
        <span class="cm-keyword">else</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">ReadyState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-doc">// Ничего не делать.</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-doc">// Ничего не делать.</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-doc">// Ничего не делать.</span>


<span class="cm-doc">// Конкретные состояния сами могут переводить контекст в другое</span>
<span class="cm-doc">// состояние.</span>
<span class="cm-keyword">class</span> <span class="cm-def1">ReadyState</span> <span class="cm-keyword">extends</span> <span class="cm-def2">State</span> <span class="cm-keyword">is</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">LockedState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">startPlayback</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">PlayingState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">nextSong</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">previousSong</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>


<span class="cm-keyword">class</span> <span class="cm-def1">PlayingState</span> <span class="cm-keyword">extends</span> <span class="cm-def2">State</span> <span class="cm-keyword">is</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">LockedState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">stopPlayback</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
        <span class="cm-variable">player</span>.<span class="cm-variable">changeState</span><span class="cm-bracket">(</span><span class="cm-keyword">new</span> <span class="cm-variable">ReadyState</span><span class="cm-bracket">(</span><span class="cm-variable">player</span><span class="cm-bracket">)</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">event</span>.<span class="cm-variable">doubleclick</span><span class="cm-bracket">)</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">nextSong</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
        <span class="cm-keyword">else</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">fastForward</span><span class="cm-bracket">(</span><span class="cm-number">5</span><span class="cm-bracket">)</span>

    <span class="cm-keyword">method</span> <span class="cm-def3">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-keyword">if</span> <span class="cm-bracket">(</span><span class="cm-variable">event</span>.<span class="cm-variable">doubleclick</span><span class="cm-bracket">)</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">previous</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
        <span class="cm-keyword">else</span>
            <span class="cm-variable">player</span>.<span class="cm-variable">rewind</span><span class="cm-bracket">(</span><span class="cm-number">5</span><span class="cm-bracket">)</span>


<span class="cm-doc">// Проигрыватель выступает в роли контекста.</span>
<span class="cm-keyword">class</span> <span class="cm-def1">AudioPlayer</span> <span class="cm-keyword">is</span>
    <span class="cm-keyword">field</span> <span class="cm-def3">state</span><span class="cm-bracket">:</span> <span class="cm-variable">State</span>
    <span class="cm-keyword">field</span> <span class="cm-def3">UI</span>, <span class="cm-def3">volume</span>, <span class="cm-def3">playlist</span>, <span class="cm-def3">currentSong</span>

    <span class="cm-keyword">constructor</span> <span class="cm-def3">AudioPlayer</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-atom">this</span>.<span class="cm-variable">state</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">ReadyState</span><span class="cm-bracket">(</span><span class="cm-atom">this</span><span class="cm-bracket">)</span>

        <span class="cm-doc">// Контекст заставляет состояние реагировать на</span>
        <span class="cm-doc">// пользовательский ввод вместо себя. Реакция может быть</span>
        <span class="cm-doc">// разной, в зависимости от того, какое состояние сейчас</span>
        <span class="cm-doc">// активно.</span>
        <span class="cm-variable">UI</span> <span class="cm-operator">=</span> <span class="cm-keyword">new</span> <span class="cm-variable">UserInterface</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
        <span class="cm-variable">UI</span>.<span class="cm-variable">lockButton</span>.<span class="cm-variable">onClick</span><span class="cm-bracket">(</span><span class="cm-atom">this</span>.<span class="cm-variable">clickLock</span><span class="cm-bracket">)</span>
        <span class="cm-variable">UI</span>.<span class="cm-variable">playButton</span>.<span class="cm-variable">onClick</span><span class="cm-bracket">(</span><span class="cm-atom">this</span>.<span class="cm-variable">clickPlay</span><span class="cm-bracket">)</span>
        <span class="cm-variable">UI</span>.<span class="cm-variable">nextButton</span>.<span class="cm-variable">onClick</span><span class="cm-bracket">(</span><span class="cm-atom">this</span>.<span class="cm-variable">clickNext</span><span class="cm-bracket">)</span>
        <span class="cm-variable">UI</span>.<span class="cm-variable">prevButton</span>.<span class="cm-variable">onClick</span><span class="cm-bracket">(</span><span class="cm-atom">this</span>.<span class="cm-variable">clickPrevious</span><span class="cm-bracket">)</span>

    <span class="cm-doc">// Другие объекты тоже должны иметь возможность заменять</span>
    <span class="cm-doc">// состояние проигрывателя.</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">changeState</span><span class="cm-bracket">(</span><span class="cm-variable">state</span><span class="cm-bracket">:</span> <span class="cm-variable">State</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-atom">this</span>.<span class="cm-variable">state</span> <span class="cm-operator">=</span> <span class="cm-variable">state</span>

    <span class="cm-doc">// Методы UI будут делегировать работу активному состоянию.</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">state</span>.<span class="cm-variable">clickLock</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">state</span>.<span class="cm-variable">clickPlay</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">state</span>.<span class="cm-variable">clickNext</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-variable">state</span>.<span class="cm-variable">clickPrevious</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span>

    <span class="cm-doc">// Сервисные методы контекста, вызываемые состояниями.</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">startPlayback</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">stopPlayback</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">nextSong</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">previousSong</span><span class="cm-bracket">(</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">fastForward</span><span class="cm-bracket">(</span><span class="cm-variable">time</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
    <span class="cm-keyword">method</span> <span class="cm-def3">rewind</span><span class="cm-bracket">(</span><span class="cm-variable">time</span><span class="cm-bracket">)</span> <span class="cm-keyword">is</span>
        <span class="cm-comment">// ...</span>
</pre>
</figure>
</div>
<div class="section applicability-container">
<h2 id="applicability"><i class="fa fa-lightbulb-on" aria-hidden="true"></i> Применимость</h2>
<div class="applicability">
<div class="applicability-problem">
<p><i class="fa fa-fw fa-bug" aria-hidden="true"></i> Когда у вас есть объект, поведение которого кардинально меняется в зависимости от внутреннего состояния, причём типов состояний много, и их код часто меняется.</p>
</div><div class="applicability-solution">
<p><i class="fa fa-fw fa-bolt" aria-hidden="true"></i> Паттерн предлагает выделить в собственные классы все поля и методы, связанные с определёнными состояниями. Первоначальный объект будет постоянно ссылаться на один из объектов-состояний, делегируя ему часть своей работы. Для изменения состояния в контекст достаточно будет подставить другой объект-состояние.</p>
</div>
<div class="applicability-problem">
<p><i class="fa fa-fw fa-bug" aria-hidden="true"></i> Когда код класса содержит множество больших, похожих друг на друга, условных операторов, которые выбирают поведения в зависимости от текущих значений полей класса.</p>
</div><div class="applicability-solution">
<p><i class="fa fa-fw fa-bolt" aria-hidden="true"></i> Паттерн предлагает переместить каждую ветку такого условного оператора в собственный класс. Тут же можно поселить и все поля, связанные с данным состоянием.</p>
</div>
<div class="applicability-problem">
<p><i class="fa fa-fw fa-bug" aria-hidden="true"></i> Когда вы сознательно используете табличную машину состояний, построенную на условных операторах, но вынуждены мириться с дублированием кода для похожих состояний и переходов.</p>
</div><div class="applicability-solution">
<p><i class="fa fa-fw fa-bolt" aria-hidden="true"></i> Паттерн Состояние позволяет реализовать иерархическую машину состояний, базирующуюся на наследовании. Вы можете отнаследовать похожие состояния от одного родительского класса и вынести туда весь дублирующий код.</p>
</div>
</div></div>
<div class="section checklist">
<h2 id="checklist"><i class="fa fa-clipboard-list-check" aria-hidden="true"></i> Шаги реализации</h2>
<ol>
<li>
<p>Определитесь с классом, который будет играть роль контекста. Это может быть как существующий класс, в котором уже есть зависимость от состояния, так и новый класс, если код состояний размазан по нескольким классам.</p>
</li>
<li>
<p>Создайте общий интерфейс состояний. Он должен описывать методы, общие для всех состояний, обнаруженных в контексте. Заметьте, что не всё поведение контекста нужно переносить в состояние, а только то, которое зависит от состояний.</p>
</li>
<li>
<p>Для каждого фактического состояния создайте класс, реализующий интерфейс состояния. Переместите код, связанный с конкретными состояниями в нужные классы. В конце концов, все методы интерфейса состояния должны быть реализованы во всех классах состояний.</p>
<p>При переносе поведения из контекста вы можете столкнуться с тем, что это поведение зависит от приватных полей или методов контекста, к которым нет доступа из объекта состояния. Существует парочка способов обойти эту проблему.</p>
<p>Самый простой&nbsp;— оставить поведение внутри контекста, вызывая его из объекта состояния. С другой стороны, вы можете сделать классы состояний вложенными в класс контекста, и тогда они получат доступ ко всем приватным частям контекста. Но последний способ доступен только в некоторых языках программирования (например, Java, C#).</p>
</li>
<li>
<p>Создайте в контексте поле для хранения объектов-состояний, а также публичный метод для изменения значения этого поля.</p>
</li>
<li>
<p>Старые методы контекста, в которых находился зависимый от состояния код, замените на вызовы соответствующих методов объекта-состояния.</p>
</li>
<li>
<p>В зависимости от бизнес-логики, разместите код, который переключает состояние контекста либо внутри контекста, либо внутри классов конкретных состояний.</p>
</li>
</ol>
</div>
<div class="section pros-cons">
<h2 id="pros-cons"><i class="fa fa-balance-scale" aria-hidden="true"></i> Преимущества и недостатки</h2>
<div class="row"><div class="col-sm-6">
<ul>
<li>
<i class="fa fa-fw fa-check" aria-hidden="true"></i> Избавляет от множества больших условных операторов машины состояний.</li>
<li>
<i class="fa fa-fw fa-check" aria-hidden="true"></i> Концентрирует в одном месте код, связанный с определённым состоянием.</li>
<li>
<i class="fa fa-fw fa-check" aria-hidden="true"></i> Упрощает код контекста.</li>
</ul>
</div><div class="col-sm-6">
<ul>
<li>
<i class="fa fa-fw fa-times" aria-hidden="true"></i> Может неоправданно усложнить код, если состояний мало и они редко меняются.</li>
</ul>
</div></div></div>
<div class="section relations">
<h2 id="relations"><i class="fa fa-exchange-alt" aria-hidden="true"></i> Отношения с другими паттернами</h2>
<ul>
<li>
<p><a href="https://refactoring.guru/ru/design-patterns/bridge">Мост</a>, <a href="https://refactoring.guru/ru/design-patterns/strategy">Стратегия</a> и <a href="https://refactoring.guru/ru/design-patterns/state">Состояние</a> (а также слегка и <a href="https://refactoring.guru/ru/design-patterns/adapter">Адаптер</a>) имеют схожие структуры классов&nbsp;— все они построены на принципе «композиции», то есть делегирования работы другим объектам. Тем не менее, они отличаются тем, что решают разные проблемы. Помните, что паттерны&nbsp;— это не только рецепт построения кода определённым образом, но и описание проблем, которые привели к данному решению.</p>
</li>
<li>
<p><a href="https://refactoring.guru/ru/design-patterns/state">Состояние</a> можно рассматривать как надстройку над  <a href="https://refactoring.guru/ru/design-patterns/strategy">Стратегией</a>. Оба паттерна используют композицию, чтобы менять поведение основного объекта, делегируя работу вложенным объектам-помощникам. Однако в <em>Стратегии</em> эти объекты не знают друг о друге и никак не связаны. В <em>Состоянии</em> сами конкретные состояния могут переключать контекст.</p>
</li>
</ul>
</div>
<div class="section implementations">
<h2 id="implementations"><i class="fa fa-code" aria-hidden="true"></i> Примеры реализации паттерна</h2>
<p><a href="https://refactoring.guru/ru/design-patterns/state/java/example" title="Состояние на Java" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/java.svg" alt="Состояние на Java"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/csharp/example" title="Состояние на C#" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/csharp.svg" alt="Состояние на C#"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/cpp/example" title="Состояние на C++" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/cpp.svg" alt="Состояние на C++"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/php/example" title="Состояние на PHP" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/php.svg" alt="Состояние на PHP"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/python/example" title="Состояние на Python" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/python.svg" alt="Состояние на Python"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/ruby/example" title="Состояние на Ruby" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/ruby.svg" alt="Состояние на Ruby"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/swift/example" title="Состояние на Swift" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/swift.svg" alt="Состояние на Swift"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/typescript/example" title="Состояние на TypeScript" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/typescript.svg" alt="Состояние на TypeScript"></a>
<a href="https://refactoring.guru/ru/design-patterns/state/go/example" title="Состояние на Go" class="prog-lang-link"><img width="53" height="53" loading="lazy" src="./Состояние_files/go.svg" alt="Состояние на Go"></a></p>
</div>


    



<div class="banner-set" id="book-promo">

    <div class="prom banner-content banner-bg banner-striped banner-with-image" data-id="DP: 1: Ne vtykay" data-creative-id="standard-ru" data-position="content_bottom" style="display: none;">
        <div class="banner-image">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <img width="200" height="200" loading="lazy" src="./Состояние_files/patterns-book-banner-1-b.png" srcset="/images/patterns/banners/patterns-book-banner-1-b-2x.png?id=5572aa55e5b09e59780aca9e0ea8e44b 2x">
            </a>
        </div>

        <div class="banner-text">
            <h3 class="title">Не втыкай в транспорте</h3>
            <p class="big">Лучше почитай нашу книгу о паттернах проектирования.</p>
            <p>Теперь это удобно делать даже во время поездок в общественном транспорте.</p>

            <a class="btn btn-secondary" href="https://refactoring.guru/ru/design-patterns/book"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
        </div>
    </div>

    <div class="prom banner-content banner-bg banner-striped banner-with-image ga-triggered" data-id="DP: 2: Kartoshka" data-creative-id="standard-ru" data-position="content_bottom">
        <div class="banner-image">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <img width="200" height="200" loading="lazy" src="./Состояние_files/patterns-book-banner-3.png" srcset="/images/patterns/banners/patterns-book-banner-3-2x.png?id=0cc3f77ab421d1a5c02ee46488231c3a 2x">
            </a>
        </div>

        <div class="banner-text">
            <h3 class="title">Читай на любом девайсе</h3>
            <p class="big">Любишь айфоны или андроид?</p>
            <p>Вообще-то это неважно. Наша электронная книга о паттернах поддерживает столько форматов, что её можно читать хоть на картошке.</p>

            <a class="btn btn-secondary" href="https://refactoring.guru/ru/design-patterns/book"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
        </div>
    </div>

    <div class="prom banner-content banner-bg banner-striped banner-with-image" data-id="DP: 3: Slovar" data-creative-id="standard-ru" data-position="content_bottom" style="display: none;">
        <div class="banner-image">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <img width="200" height="200" loading="lazy" src="./Состояние_files/patterns-book-banner-5-en.png" srcset="/images/patterns/banners/patterns-book-banner-5-en-2x.png?id=8cc73e8ce1a0106f890ff9118dc1cc8a 2x">
            </a>
        </div>

        <div class="banner-text">
            <h3 class="title">Сожги свой словарь</h3>
            <p class="big">Там, где другие брызжат заумью, мы всё объясняем на пальцах.</p>
            <p>Наша книга объясняет на простых примерах и аналогиях все сложные термины вроде «абстракции», «инкапсуляции» и «инварианта».</p>

            <a class="btn btn-secondary" href="https://refactoring.guru/ru/design-patterns/book"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
        </div>
    </div>

    <div class="prom banner-content banner-bg banner-striped banner-with-image" data-id="DP: 4: Pod rukoy" data-creative-id="standard-ru" data-position="content_bottom" style="display: none;">
        <div class="banner-image">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <img width="200" height="200" loading="lazy" src="./Состояние_files/patterns-book-banner-2.png" srcset="/images/patterns/banners/patterns-book-banner-2-2x.png?id=b526ce1e1891e34e46288fa8a0361e36 2x">
            </a>
        </div>
        <div class="banner-text">
            <h3 class="title">Книга всегда под рукой</h3>
            <p class="big">В отличие от обычной бумажной книги о программировании...</p>
            <p>...в нашей есть поиск, и её невозможно физически где-то забыть. Она всегда готова к чтению, в телефоне или на рабочем компе.</p>

            <a class="btn btn-secondary" href="https://refactoring.guru/ru/design-patterns/book"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
        </div>
    </div>

    <div class="prom banner-content banner-bg banner-striped banner-with-image banner-night-mode" data-id="DP: 5: Krasnoglaz" data-creative-id="standard-ru" data-position="content_bottom" style="display: none;">
        <div class="banner-image">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <img width="200" height="200" loading="lazy" src="./Состояние_files/patterns-book-banner-4.png" srcset="/images/patterns/banners/patterns-book-banner-4-2x.png?id=2b5074ab264cdd81b30648a07d52f146 2x">
            </a>
        </div>

        <div class="banner-text">
            <h3 class="title">Не красноглазь по ночам</h3>
            <p class="big">Лучше пользуйся ночным режимом читалки.</p>
            <p>Цвета и иллюстрации в нашей книге подогнаны таким образом, чтобы круто смотреться как на светлом, так и на тёмном фоне читалок.</p>

            <a class="btn btn-secondary" href="https://refactoring.guru/ru/design-patterns/book"><i class="fa fa-book" aria-hidden="true"></i> Узнать больше…</a>
        </div>
    </div>
</div>


</article>


<nav class="prev-next">
    
    <div class="next">
        <h4>Читаем дальше</h4>
        <a rel="next" href="https://refactoring.guru/ru/design-patterns/strategy" class="btn btn-primary">Стратегия&nbsp;<span class="fa fa-arrow-right"></span></a>
    </div>
    
    
    <div class="prev">
        <h4>Вернуться назад</h4>
        <a rel="prev" href="https://refactoring.guru/ru/design-patterns/observer" class="btn btn-default"><span class="fa fa-arrow-left"></span>&nbsp;Наблюдатель</a>
    </div>
    
</nav>

</div>

<aside class="feature affix">
    

<div class="prom banner-sidebar ga-triggered" data-id="DP: Sidebar" data-creative-id="standard-sidebar-ru" data-position="sidebar">
    <div class="banner-inner">
        <div class="image3d-book-right">
            <div class="image3d-cover" style="background: #0b3752;">
                <a href="https://refactoring.guru/ru/design-patterns/book">
                    <img width="250" height="375" loading="lazy" src="./Состояние_files/web-cover-en.png" srcset="/images/patterns/book/web-cover-en-2x.png?id=02940141c5652ed5a426d87390b16366 2x">
                </a>
            </div>
        </div>
        <div style="margin-top: 1rem">
            <p class="text-center">Эта статья является частью нашей электронной книги <strong>Погружение в Паттерны Проектирования</strong>.</p>
            <a href="https://refactoring.guru/ru/design-patterns/book" class="btn btn-secondary btn-block">
                <i class="fa fa-book" aria-hidden="true"></i> Узнать больше…
            </a>
        </div>
    </div>
</div>




</aside></div></main>

    <nav class="navigation" role="navigation">
    <div class="navigation-container">
        <a href="https://refactoring.guru/ru/design-patterns/state#menu" class="navigation-toggle"><i class="fa fa-bars"></i></a>
        <a class="navigation-brand" href="https://refactoring.guru/ru">
            <img alt="Refactoring.Guru" src="./Состояние_files/logo-military-mobile.png" srcset="/images/content-public/logos/logo-military-mobile-2x.png?id=0f52141f57f67fb678da8407e254b0a3 2x" width="94" height="64">
        </a>
        <div class="social-likes-block social-likes social-likes_visible social-likes_ready" data-url="https://refactoring.guru">
    <div data-service="facebook" class="social-likes__widget social-likes__widget_facebook" title="Поделиться в Facebook"><span class="social-likes__button social-likes__button_facebook"><span class="social-likes__icon social-likes__icon_facebook"></span>Facebook</span><span class="social-likes__counter social-likes__counter_facebook social-likes__counter_empty"></span></div>
        <div data-service="vkontakte" class="social-likes__widget social-likes__widget_vkontakte" title="Поделиться ВКонтакте"><span class="social-likes__button social-likes__button_vkontakte"><span class="social-likes__icon social-likes__icon_vkontakte"></span>Вконтакте</span><span class="social-likes__counter social-likes__counter_vkontakte social-likes__counter_empty"></span></div>
        <div data-service="twitter" class="social-likes__widget social-likes__widget_twitter" title="Поделиться в Twitter"><span class="social-likes__button social-likes__button_twitter"><span class="social-likes__icon social-likes__icon_twitter"></span>Twitter</span></div>
</div>        <ul class="navigation-menu">
                        <li class="dropdown d-lg-none">
                <a class="dropdown-toggle" id="dropdownLanguage" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <i class="fa fa-globe" aria-hidden="true"></i> <span class="caption d-none d-xl-inline-block">Язык</span>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownLanguage">
                                                                                                        <a href="https://refactoring.guru/design-patterns/state" class="dropdown-item locale-link " data-locale="en" title="English">English</a>
                                                                                                                <a href="https://refactoring.guru/es/design-patterns/state" class="dropdown-item locale-link " data-locale="es" title="Español">Español</a>
                                                                                                                <a href="https://refactoring.guru/fr/design-patterns/state" class="dropdown-item locale-link " data-locale="fr" title="Français">Français</a>
                                                                                                                <a href="https://refactoring.guru/pl/design-patterns/state" class="dropdown-item locale-link " data-locale="pl" title="Polski">Polski</a>
                                                                                                                <a href="https://refactoring.guru/pt-br/design-patterns/state" class="dropdown-item locale-link " data-locale="pt-br" title="Português Brasileiro">Português Brasileiro</a>
                                                                                                                <a href="https://refactoring.guru/ru/design-patterns/state" class="dropdown-item locale-link active" data-locale="ru" title="Русский">Русский</a>
                                                                                                                <a href="https://refactoring.guru/uk/design-patterns/state" class="dropdown-item locale-link " data-locale="uk" title="Українська">Українська</a>
                                                                                                                <a href="https://refactoringguru.cn/design-patterns/state" class="dropdown-item locale-link " data-locale="zh" title="中文">中文</a>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </div>
            </li>
                        <li class="nav-contact">
                <a class="userecho-private" href="https://feedback.refactoring.guru/communities/1-russkij-russian?lang=ru&amp;show_feedback_form_private=true" rel="nofollow" title="Связаться">
                    <i class="fa fa-envelope"></i> <span class="caption d-none d-xl-inline-block">Связаться</span>
                </a>
            </li>
                                                <li class="nav-login">
                        <a href="https://refactoring.guru/ru/login" title="Войти"><i class="fa fa-user"></i> <span class="caption d-none d-xl-inline-block">Войти</span></a>
                    </li>
                                    </ul>
    </div>
    <div>
        <a class="russia-stop" href="https://refactoring.guru/ru/help-ukraine">
                            HELP UKRAINE <b>STOP RUSSIA</b>
                    </a>
    </div>
</nav>
    <aside class="sidebar main-menu nano os-host os-theme-red os-host-overflow os-host-overflow-y os-host-resize-disabled os-host-scrollbar-horizontal-hidden os-host-transition"><div class="os-resize-observer-host observed"><div class="os-resize-observer" style="left: 0px; right: auto;"></div></div><div class="os-size-auto-observer observed" style="height: calc(100% + 1px); float: left;"><div class="os-resize-observer"></div></div><div class="os-content-glue" style="margin: 0px; width: 249px; height: 958px;"></div><div class="os-padding"><div class="os-viewport os-viewport-native-scrollbars-invisible" style="overflow-y: scroll;"><div class="os-content" style="padding: 0px; height: 100%; width: 100%;">
    <a href="https://refactoring.guru/ru/design-patterns/state#menu-close" class="navigation-toggle"><i class="fa fa-fw fa-times"></i></a>
    <div class="nano-content">
                    <div class="main-menu-lang d-none d-lg-flex main-menu-lang-count-8">
                                                                                        <a href="https://refactoring.guru/design-patterns/state" class="locale-link " data-locale="en" title="English"><span class="d-lg-none">English</span><span class="d-none d-lg-inline">English</span></a>
                                                                                                <a href="https://refactoring.guru/es/design-patterns/state" class="locale-link " data-locale="es" title="Español"><span class="d-lg-none">Español</span><span class="d-none d-lg-inline">Español</span></a>
                                                                                                <a href="https://refactoring.guru/fr/design-patterns/state" class="locale-link " data-locale="fr" title="Français"><span class="d-lg-none">Français</span><span class="d-none d-lg-inline">Français</span></a>
                                                                                                <a href="https://refactoring.guru/pl/design-patterns/state" class="locale-link " data-locale="pl" title="Polski"><span class="d-lg-none">Polski</span><span class="d-none d-lg-inline">Polski</span></a>
                                                                                                <a href="https://refactoring.guru/pt-br/design-patterns/state" class="locale-link " data-locale="pt-br" title="Português Brasileiro"><span class="d-lg-none">Português Brasileiro</span><span class="d-none d-lg-inline">Português-Br</span></a>
                                                                                                <a href="https://refactoring.guru/ru/design-patterns/state" class="locale-link active suggest suggest-no-anim" data-locale="ru" title="Русский"><span class="d-lg-none">Русский</span><span class="d-none d-lg-inline">Русский</span></a>
                                                                                                <a href="https://refactoring.guru/uk/design-patterns/state" class="locale-link " data-locale="uk" title="Українська"><span class="d-lg-none">Українська</span><span class="d-none d-lg-inline">Українська</span></a>
                                                                                                <a href="https://refactoringguru.cn/design-patterns/state" class="locale-link " data-locale="zh" title="中文"><span class="d-lg-none">中文</span><span class="d-none d-lg-inline">中文</span></a>
                                                                                                                                                                                                                                                                                                                                                                                        </div>
        
        <a class="menu-brand" href="https://refactoring.guru/ru">
                            <img width="200" height="241" loading="lazy" alt="Refactoring.Guru" src="./Состояние_files/logo-military.png" srcset="/images/content-public/logos/logo-military-2x.png?id=5af1a599d8a4170c9a42e6fa18148b98 2x">
                    </a>
        <div>
            <a class="russia-stop" href="https://refactoring.guru/ru/help-ukraine">
                                    HELP UKRAINE
                    <br><b>STOP RUSSIA</b>
                            </a>
        </div>


        <div class="menu-container" style="position: relative">
                        <ul class="menu-list ready">
            
                
    
        <li class="featured">
            <a href="https://refactoring.guru/ru/store">
                <i class="fa fa-fw fa-star" aria-hidden="true"></i> Премиум контент
            </a>
    

    
        <ul>
            
                
    
        <li class="featured menu-fs15">
            <a href="https://refactoring.guru/ru/design-patterns/book">
                <i class="fa fa-fw fa-book" aria-hidden="true"></i> Книга о паттернах
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="featured menu-fs15">
            <a href="https://refactoring.guru/ru/refactoring/course">
                <i class="fa fa-fw fa-graduation-cap" aria-hidden="true"></i> Курс по рефакторингу
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring">
                <i class="fa fa-fw fa-scissors" aria-hidden="true"></i> Рефакторинг
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/what-is-refactoring">
                Введение в рефакторинг
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/what-is-refactoring">
                Чистый код
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/technical-debt">
                Технический долг
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/when">
                Когда рефакторить
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/how-to">
                Как рефакторить
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/catalog">
                Каталог
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells">
                Запахи кода
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/bloaters">
                Раздувальщики
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/long-method">
                Длинный метод
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/large-class">
                Большой класс
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/primitive-obsession">
                Одержимость элементарными типами
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/long-parameter-list">
                Длинный список параметров
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/data-clumps">
                Группы данных
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/oo-abusers">
                Нарушители объектно-ориентированного дизайна
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/switch-statements">
                Операторы switch
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/temporary-field">
                Временное поле
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/refused-bequest">
                Отказ от наследства
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/alternative-classes-with-different-interfaces">
                Альтернативные классы с разными интерфейсами
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/change-preventers">
                Утяжелители изменений
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/divergent-change">
                Расходящиеся модификации
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/shotgun-surgery">
                Стрельба дробью
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/parallel-inheritance-hierarchies">
                Параллельные иерархии наследования
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/dispensables">
                Замусориватели
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/comments">
                Комментарии
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/duplicate-code">
                Дублирование кода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/lazy-class">
                Ленивый класс
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/data-class">
                Класс данных
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/dead-code">
                Мёртвый код
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/speculative-generality">
                Теоретическая общность
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/couplers">
                Опутыватели связями
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/feature-envy">
                Завистливые функции
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/inappropriate-intimacy">
                Неуместная близость
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/message-chains">
                Цепочка вызовов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/middle-man">
                Посредник
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/smells/other">
                Остальные запахи
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/smells/incomplete-library-class">
                Неполнота библиотечного класса
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques">
                Техники
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/composing-methods">
                Составление методов
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-method">
                Извлечение метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/inline-method">
                Встраивание метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-variable">
                Извлечение переменной
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/inline-temp">
                Встраивание переменной
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-temp-with-query">
                Замена переменной вызовом метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/split-temporary-variable">
                Расщепление переменной
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/remove-assignments-to-parameters">
                Удаление присваиваний параметрам
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-method-with-method-object">
                Замена метода объектом методов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/substitute-algorithm">
                Замена алгоритма
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/moving-features-between-objects">
                Перемещение функций между объектами
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/move-method">
                Перемещение метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/move-field">
                Перемещение поля
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-class">
                Извлечение класса
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/inline-class">
                Встраивание класса
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/hide-delegate">
                Сокрытие делегирования
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/remove-middle-man">
                Удаление посредника
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/introduce-foreign-method">
                Введение внешнего метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/introduce-local-extension">
                Введение локального расширения
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/organizing-data">
                Организация данных
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/self-encapsulate-field">
                Самоинкапсуляция поля
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-data-value-with-object">
                Замена простого поля объектом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/change-value-to-reference">
                Замена значения ссылкой
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/change-reference-to-value">
                Замена ссылки значением
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-array-with-object">
                Замена поля-массива объектом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/duplicate-observed-data">
                Дублирование видимых данных
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/change-unidirectional-association-to-bidirectional">
                Замена однонаправленной связи двунаправленной
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/change-bidirectional-association-to-unidirectional">
                Замена двунаправленной связи однонаправленной
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-magic-number-with-symbolic-constant">
                Замена магического числа символьной константой
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/encapsulate-field">
                Инкапсуляция поля
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/encapsulate-collection">
                Инкапсуляция коллекции
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-class">
                Замена кодирования типа классом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-subclasses">
                Замена кодирования типа подклассами
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-type-code-with-state-strategy">
                Замена кодирования типа состоянием/стратегией
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-subclass-with-fields">
                Замена подкласса полями
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/simplifying-conditional-expressions">
                Упрощение условных выражений
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/decompose-conditional">
                Разбиение условного оператора
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/consolidate-conditional-expression">
                Объединение условных операторов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/consolidate-duplicate-conditional-fragments">
                Объединение дублирующихся фрагментов в условных операторах
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/remove-control-flag">
                Удаление управляющего флага
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-nested-conditional-with-guard-clauses">
                Замена вложенных условных операторов граничным оператором
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-conditional-with-polymorphism">
                Замена условного оператора полиморфизмом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/introduce-null-object">
                Введение Null-объекта
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/introduce-assertion">
                Введение проверки утверждения
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/simplifying-method-calls">
                Упрощение вызовов методов
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/rename-method">
                Переименование метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/add-parameter">
                Добавление параметра
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/remove-parameter">
                Удаление параметра
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/separate-query-from-modifier">
                Разделение запроса и модификатора
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/parameterize-method">
                Параметризация метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-parameter-with-explicit-methods">
                Замена параметра набором специализированных методов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/preserve-whole-object">
                Передача всего объекта
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-parameter-with-method-call">
                Замена параметра вызовом метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/introduce-parameter-object">
                Замена параметров объектом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/remove-setting-method">
                Удаление сеттера
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/hide-method">
                Сокрытие метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-constructor-with-factory-method">
                Замена конструктора фабричным методом
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-error-code-with-exception">
                Замена кода ошибки исключением
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-exception-with-test">
                Замена исключения проверкой условия
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/refactoring/techniques/dealing-with-generalization">
                Решение задач обобщения
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/pull-up-field">
                Подъём поля
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/pull-up-method">
                Подъём метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/pull-up-constructor-body">
                Подъём тела конструктора
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/push-down-method">
                Спуск метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/push-down-field">
                Спуск поля
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-subclass">
                Извлечение подкласса
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-superclass">
                Извлечение суперкласса
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/extract-interface">
                Извлечение интерфейса
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/collapse-hierarchy">
                Свёртывание иерархии
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/form-template-method">
                Создание шаблонного метода
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-inheritance-with-delegation">
                Замена наследования делегированием
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/replace-delegation-with-inheritance">
                Замена делегирования наследованием
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="trail">
            <a href="https://refactoring.guru/ru/design-patterns">
                <i class="fa fa-fw fa-puzzle-piece" aria-hidden="true"></i> Паттерны
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/what-is-pattern">
                Введение в паттерны
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/what-is-pattern">
                Что такое Паттерн?
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/history">
                История паттернов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/why-learn-patterns">
                Зачем знать паттерны?
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/criticism">
                Критика паттернов
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/classification">
                Классификация паттернов
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/catalog">
                Каталог
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-third-level">
            <a href="https://refactoring.guru/ru/design-patterns/creational-patterns">
                Порождающие
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/factory-method">
                Фабричный метод
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/abstract-factory">
                Абстрактная фабрика
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/builder">
                Строитель
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/prototype">
                Прототип
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/singleton">
                Одиночка
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="menu-third-level">
            <a href="https://refactoring.guru/ru/design-patterns/structural-patterns">
                Структурные
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/adapter">
                Адаптер
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/bridge">
                Мост
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/composite">
                Компоновщик
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/decorator">
                Декоратор
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/facade">
                Фасад
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/flyweight">
                Легковес
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/proxy">
                Заместитель
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="menu-third-level trail">
            <a href="https://refactoring.guru/ru/design-patterns/behavioral-patterns">
                Поведенческие
            </a>
    

    
        <ul>
            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/chain-of-responsibility">
                Цепочка обязанностей
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/command">
                Команда
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/iterator">
                Итератор
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/mediator">
                Посредник
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/memento">
                Снимок
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/observer">
                Наблюдатель
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="trail animated active">
            <a href="https://refactoring.guru/ru/design-patterns/state">
                Состояние
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/strategy">
                Стратегия
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/template-method">
                Шаблонный метод
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="">
            <a href="https://refactoring.guru/ru/design-patterns/visitor">
                Посетитель
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
                
    
        <li class="menu-code-examples">
            <a href="https://refactoring.guru/ru/design-patterns/examples">
                Примеры кода
            </a>
    

    
        <ul>
            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/csharp">
                C#
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/cpp">
                C++
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/go">
                Go
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/java">
                Java
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/php">
                PHP
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/python">
                Python
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/ruby">
                Ruby
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/swift">
                Swift
            </a>
    

    

    
        </li>
    

            
                
    
        <li class="menu-code-examples-item">
            <a href="https://refactoring.guru/ru/design-patterns/typescript">
                TypeScript
            </a>
    

    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
        </ul>
    

    
        </li>
    

            
        </ul>
    
            </div>
        <div class="sidebar-controls">
            <div class="sidebar-controls-container">
                <a href="https://refactoring.guru/ru/login" title="Войти"><i class="fa fa-fw fa-fw fa-user"></i> Войти</a>
                <a href="https://feedback.refactoring.guru/communities/1-russkij-russian?lang=ru" class="userecho-public" rel="nofollow" title="Обратная связь"><i class="fa fa-fw fa-fw fa-envelope" aria-hidden="true"></i> Связаться</a>
            </div>
        </div>
    </div>
</div></div></div><div class="os-scrollbar os-scrollbar-horizontal os-scrollbar-unusable"><div class="os-scrollbar-track os-scrollbar-track-off"><div class="os-scrollbar-handle" style="width: 100%; transform: translate(0px, 0px);"></div></div></div><div class="os-scrollbar os-scrollbar-vertical"><div class="os-scrollbar-track os-scrollbar-track-off"><div class="os-scrollbar-handle" style="height: 90.4717%; transform: translate(0px, 0px);"></div></div></div><div class="os-scrollbar-corner"></div></aside>
    <footer class="footer center-content">
    <div class="footer-container center-content-container">
        <div class="footer-inner container-fluid">
            <div class="row">
                <div class="col-8 col-md-10">
                    <ul class="footer-list footer-list-horizontal">
                        <li><a href="https://refactoring.guru/ru">Главная</a></li>
                        <li><a href="https://refactoring.guru/ru/refactoring">Рефакторинг</a></li>
                        <li><a href="https://refactoring.guru/ru/design-patterns">Паттерны</a></li>
                        <li><a href="https://refactoring.guru/ru/store">Премиум контент</a></li>
                        <li><a href="https://feedback.refactoring.guru/communities/1-russkij-russian?lang=ru" rel="nofollow" class="userecho-public">Форум</a></li>
                        <li><a href="https://feedback.refactoring.guru/communities/1-russkij-russian?lang=ru&amp;show_feedback_form_private=true" rel="nofollow" class="userecho-private">Связаться</a></li>
                    </ul>
                </div>
                <div class="col-4 col-md-2">
                    <ul class="footer-list footer-list-iconic">
                                                    <li><a href="https://www.facebook.com/refactoring.guru"><i class="fa fa-facebook-official"></i></a></li>
                                                <li><a href="https://refactoring.guru/ru/sendy/form" rel="nofollow"><i class="fa fa-envelope" aria-hidden="true"></i></a></li>
                        <li><a href="https://github.com/RefactoringGuru"><i class="fa fa-github-circled"></i></a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="footer-second">
        <div class="footer-container center-content-container">
            <div class="footer-inner container-fluid">
                <div class="row">
                    <div class="col-12 col-sm-8">
                        <i class="fa fa-fw fa-copyright"></i> 2014-2022 <a href="https://refactoring.guru/ru">Refactoring.Guru</a>. <span style="white-space: nowrap">Все права защищены.</span><br>
                        <object class="fa-fw" style="height: 0.8rem; filter: invert(50%);" type="image/svg+xml" data="./Состояние_files/fa-building.svg">
                            <img class="fa-fw" style="height: 0.8rem;" src="./Состояние_files/fa-building.svg" alt="Organization address">
                        </object> Хмельницкое шоссе 19 / 27, Каменец-Подольский, Украина, 32305<br>
                        <i class="fa fa-fw fa-envelope"></i>  Email: support@refactoring.guru

                        <div class="mt-2">
                            <i class="fa fa-fw fa-image"></i> Иллюстрации нарисовал <a href="http://zhart.us/" rel="nofollow"><span style="white-space: nowrap">Дмитрий Жарт</span></a></div>
                    </div>
                    <div class="footer-links-right col-12 col-sm-4 mt-4 mt-sm-0">
                        <div class="row">
                            <div class="col-8 col-sm-12">
                                <ul class="footer-list">
                                    <li><a href="https://refactoring.guru/ru/terms"><span>Условия использования</span></a>
                                    </li>
                                    <li><a href="https://refactoring.guru/ru/privacy-policy"><span>Политика конфиденциальности</span></a>
                                    </li>
                                    <li><a href="https://refactoring.guru/ru/content-usage-policy"><span>Использование контента</span></a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</footer>

</div>


    <script>
function extend(){var extended={};var deep=false;var i=0;var length=arguments["length"];if(Object["prototype"]["toString"]["call"](arguments[0])=== '[object Boolean]'){deep= arguments[0];i++};var merge=function(obj){for(var prop in obj){if(Object["prototype"]["hasOwnProperty"]["call"](obj,prop)){if(deep&& Object["prototype"]["toString"]["call"](obj[prop])=== '[object Object]'){extended[prop]= extend(true,extended[prop],obj[prop])}else {extended[prop]= obj[prop]}}}};for(;i< length;i++){var obj=arguments[i];merge(obj)};return extended}
function defer(method) {if (window.jQuery) {method();} else {setTimeout(function() { defer(method) }, 50);}}
</script>
<script>
+function(sd){sd = (typeof sd === "string") ? JSON.parse(atob(sd)) : sd;for(var property in sd){if(window[property]!== null&&  typeof window[property]=== 'object'){window[property]= extend(true,window[property],sd[property])}else {window[property]= sd[property]}}}("eyJsb2NhbGUiOiJydSIsImxvY2FsZV9wcmVmaXgiOiJydVwvIiwibG9jYWxpemVkX3VybF9wcmVmaXhfbSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZy5ndXJ1XC9ydVwvIiwidXJsX3ByZWZpeF9tIjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsImxvY2FsaXplZF91cmxfcHJlZml4IjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcL3J1XC8iLCJ1cmxfcHJlZml4IjoiaHR0cHM6XC9cL3JlZmFjdG9yaW5nLmd1cnVcLyIsImNoaW5lc2VfaG9tZSI6Imh0dHBzOlwvXC9yZWZhY3RvcmluZ2d1cnUuY25cLyIsInVzZXJfZWNob19hbGlhcyI6InJlZmFjdG9yaW5nIiwidXNlcl9lY2hvX2hvc3QiOiJmZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1IiwidXNlcl9lY2hvX3ByaXZhdGVfZm9ydW0iOiIyIiwidXNlcl9lY2hvX2xvY2FsZSI6InJ1IiwidXNlcl9lY2hvX3B1YmxpY19mb3J1bSI6IjEiLCJ1c2VyX2VjaG9fcHVibGljX2ZvcnVtX3VybCI6Imh0dHBzOlwvXC9mZWVkYmFjay5yZWZhY3RvcmluZy5ndXJ1XC9jb21tdW5pdGllc1wvMS1ydXNza2lqLXJ1c3NpYW4iLCJ1c2VyX2VjaG9fc3NvX3Rva2VuIjoiIn0=");
</script>

    <script defer="">
        if (window.dataLayer && window.google_optimize) {
            window.dataLayer.push({'event': 'optimize.activate'});
        }
    </script>
<style>.async-hide { opacity: 0 !important} </style>
<script>(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;
        h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};
        (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;
    })(window,document.documentElement,'async-hide','dataLayer',4000,
        {'GTM-M58XZN4':true});</script>
<link rel="preconnect dns-prefetch" href="https://www.google-analytics.com/">
<script>
    var getCookie = function(name) {
        var nameEQ = name + "=";
        var ca = document.cookie.split(';');
        for(var i=0;i < ca.length;i++) {
            var c = ca[i];
            while (c.charAt(0)==' ') c = c.substring(1,c.length);
            if (c.indexOf(nameEQ) == 0) return c.substring(nameEQ.length,c.length);
        }
        return null;
    };
    var eraseCookie = function (name) {
        document.cookie = name+'=; Path=/; Max-Age=-99999999;';
    };

    window.google_analytics = 'UA-521840-40';

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    var ga_queue = [];
    window.gaOnCreate = function(){
        ga_queue.push(arguments);
    };

            doTracking();
    
    function doTracking(clientId) {
        window.gaOnCreate = function(){
            ga.apply(this, arguments);
        };

        var options = {
            'siteSpeedSampleRate': 100
        };
        if (clientId) {
            options.clientId = clientId;
        }
        ga('create', 'UA-521840-40', options);

                    ga('require', 'GTM-M58XZN4');
            window.google_optimize = 'GTM-M58XZN4';
        
        // Fix broken Social Login referrer.
        window.social_login_provider = window.social_login_provider || getCookie('social_login_provider');
        if (window.social_login_provider) {
            ga('set', 'referrer', null);
            ga('send', 'social', window.social_login_provider, 'login', window.location.href);
            eraseCookie('social_login_provider');
        }

        var user_id = getCookie('user_id');
        if (user_id) {
            ga('set', 'userId', user_id);
        } else {
            ga('set', 'userId', null);
        }

        var location = document.location.href;
        if (typeof window.analytics_path_prefix === 'string') {
            if (/^(https?:\/\/[^\/]+?)\/$/.test(location)) {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix);
            }
            else {
                location = location.replace(/(https?:\/\/[^\/]+?)\//, '$1' + window.analytics_path_prefix + '/');
            }
            ga('set', 'location', location);
        }

        if (typeof window.analytics_location_prefix === 'string') {
            location = location.replace(/(https?:\/\/[^\/]+?)\//, window.analytics_location_prefix);
            ga('set', 'location', location);
        }

        ga('require', 'ec');
        ga('send', 'pageview', (typeof window.analytics_path_prefix === 'string' ? window.analytics_path_prefix : '') + document.location.pathname);

        ga_queue.forEach(function(item){
            ga.apply(this, item);
        });
    }
</script>

<script defer="">
    window.socialLikesButtons = {
                facebook: {
            counterUrl: "",
            convertNumber: null
        },
                            vkontakte: {
            counterUrl: "",
            counter: null
        },
            };
</script>

<script defer="">
    var CodeMirrorScripts = ["/js/codemirror.min.js?id=24aa863dfde7c99eb17d4102684aea27"];
</script>



    <script>window.loadContent = true;window.loadCart = true;</script>

<script src="./Состояние_files/codemirror.min.js.Без названия"></script></body></html>